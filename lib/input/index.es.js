import{defineComponent as e,ref as a,computed as l,watch as t,onMounted as u,resolveComponent as n,openBlock as i,createElementBlock as d,createElementVNode as r,normalizeClass as o,createBlock as p,createCommentVNode as v}from"vue";var s=e({name:"TInput",props:{size:{type:String,default:"default"},value:{type:[String,void 0],default:void 0},defaultValue:{type:String,default:""},placeholder:{type:String,default:""},allowClear:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["change"],setup(e,{emit:n}){const i=a(),d=a(e.value||e.defaultValue||""),r=l((()=>void 0!==e.value)),o=l((()=>!e.disabled&&e.allowClear&&d.value));return t((()=>e.value),(()=>{void 0!==e.value&&(i.value.value=e.value,d.value=e.value)})),u((()=>{i.value.value=d.value})),{showClear:o,inputRef:i,handleInput:function(a){Object.defineProperty(a,"target",{writable:!0}),a.target=i.value.cloneNode(!0);const l=r.value?e.value:a.target.value;i.value.value=l,d.value=l,n("change",a)},handleClear:function(e){Object.defineProperty(e,"target",{writable:!0}),e.target=i.value.cloneNode(!0),e.target.value="",r.value||(i.value.value="",d.value=""),n("change",e)}}}});const c={class:"t-input-wrapper"},f=["disabled","placeholder"];s.render=function(e,a,l,t,u,s){const g=n("t-icon");return i(),d("span",c,[r("input",{ref:"inputRef",disabled:e.disabled,placeholder:e.placeholder,onInput:a[0]||(a[0]=(...a)=>e.handleInput&&e.handleInput(...a)),class:o(["t-input",`t-input-size-${e.size}${!e.disabled&&e.allowClear?"-clear":""}`,e.disabled?"t-input-disabled":""])},null,42,f),e.showClear?(i(),p(g,{key:0,type:"clear",class:"t-input-right",onClick:e.handleClear},null,8,["onClick"])):v("v-if",!0)])},s.__file="packages/input/input.vue",s.install=function(e){e.component(s.name,s)};export{s as default};
