import{defineComponent as e,ref as a,computed as l,watch as t,onMounted as u,resolveComponent as n,openBlock as r,createElementBlock as o,createElementVNode as d,normalizeClass as i,createBlock as p,createCommentVNode as v}from"vue";var c=(e,a)=>{const l=e.__vccOpts||e;for(const[e,t]of a)l[e]=t;return l};const s=e({name:"TInput",props:{size:{type:String,default:"default"},value:{type:[String,void 0],default:void 0},defaultValue:{type:String,default:""},placeholder:{type:String,default:""},allowClear:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["change"],setup(e,{emit:n}){const r=a(),o=a(e.value||e.defaultValue||""),d=l((()=>void 0!==e.value)),i=l((()=>!e.disabled&&e.allowClear&&o.value));return t((()=>e.value),(()=>{void 0!==e.value&&(r.value.value=e.value,o.value=e.value)})),u((()=>{r.value.value=o.value})),{showClear:i,inputRef:r,handleInput:function(a){Object.defineProperty(a,"target",{writable:!0}),a.target=r.value.cloneNode(!0);const l=d.value?e.value:a.target.value;r.value.value=l,o.value=l,n("change",a)},handleClear:function(e){Object.defineProperty(e,"target",{writable:!0}),e.target=r.value.cloneNode(!0),e.target.value="",d.value||(r.value.value="",o.value=""),n("change",e)}}}}),f={class:"t-input-wrapper"},h=["disabled","placeholder"];var g=c(s,[["render",function(e,a,l,t,u,c){const s=n("t-icon");return r(),o("span",f,[d("input",{ref:"inputRef",disabled:e.disabled,placeholder:e.placeholder,onInput:a[0]||(a[0]=(...a)=>e.handleInput&&e.handleInput(...a)),class:i(["t-input",`t-input-size-${e.size}${!e.disabled&&e.allowClear?"-clear":""}`,e.disabled?"t-input-disabled":""])},null,42,h),e.showClear?(r(),p(s,{key:0,type:"clear",class:"t-input-right",onClick:e.handleClear},null,8,["onClick"])):v("v-if",!0)])}]]);g.install=function(e){e.component(g.name,g)};export{g as default};
