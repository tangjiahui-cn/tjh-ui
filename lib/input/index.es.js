import{defineComponent as e,ref as a,computed as l,watch as t,onMounted as u,resolveComponent as n,openBlock as o,createElementBlock as i,normalizeClass as r,createElementVNode as d,createBlock as p,createCommentVNode as v}from"vue";var c=e({name:"TInput",props:{size:{type:String,default:"default"},value:{type:[String,void 0],default:void 0},defaultValue:{type:String,default:""},placeholder:{type:String,default:""},allowClear:{type:Boolean,default:!1},showSearch:{type:Boolean,default:!1},autoSpace:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},emits:["change"],setup(e,{emit:n}){const o=a(),i=a(e.value||e.defaultValue||""),r=l((()=>void 0!==e.value)),d=l((()=>!e.disabled&&e.allowClear&&i.value));return t((()=>e.value),(()=>{void 0!==e.value&&(o.value.value=e.value,i.value=e.value)})),u((()=>{o.value.value=i.value})),{showClear:d,inputRef:o,handleInput:function(a){Object.defineProperty(a,"target",{writable:!0}),a.target=o.value.cloneNode(!0);const l=r.value?e.value:a.target.value;o.value.value=l,i.value=l,n("change",a)},handleClear:function(e){Object.defineProperty(e,"target",{writable:!0}),e.target=o.value.cloneNode(!0),e.target.value="",r.value||(o.value.value="",i.value=""),n("change",e)}}}});const s=["disabled","placeholder"];c.render=function(e,a,l,t,u,c){const f=n("t-icon");return o(),i("span",{class:r(["t-input-wrapper",e.autoSpace?"space":""])},[d("input",{ref:"inputRef",disabled:e.disabled,placeholder:e.placeholder,class:r(["t-input"+(e.disabled?"-disabled":""),`t-input-size-${e.size}${e.allowClear?"-clear":""}`]),onInput:a[0]||(a[0]=(...a)=>e.handleInput&&e.handleInput(...a))},null,42,s),e.showClear?(o(),p(f,{key:0,type:"clear",class:"t-input-right",onClick:e.handleClear},null,8,["onClick"])):v("v-if",!0)],2)},c.__file="packages/input/input.vue",c.install=function(e){e.component(c.name,c)};export{c as default};
