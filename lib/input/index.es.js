import{defineComponent as e,ref as l,computed as a,watch as t,onMounted as u,resolveComponent as n,openBlock as d,createElementBlock as o,createElementVNode as i,normalizeClass as r,createBlock as v,createCommentVNode as p}from"vue";var s=(e,l)=>{const a=e.__vccOpts||e;for(const[e,t]of l)a[e]=t;return a};const c=e({name:"TInput",props:{size:{type:String,default:"default"},value:{type:[String,void 0],default:void 0},defaultValue:{type:String,default:""},placeholder:{type:String,default:""},allowClear:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},modelValue:{type:[String,void 0],default:void 0}},emits:["change","input","update:modelValue"],setup(e,{emit:n}){const d=l(),o=l(e.modelValue||e.value||e.defaultValue||""),i=a((()=>!e.disabled&&e.allowClear&&o.value));function r(e,l){Object.defineProperty(e,"target",{writable:!0}),e.target=d.value.cloneNode(!0),e.target.value=l}return t((()=>[e.modelValue,e.value]),(([e,l])=>{void 0!==e?(o.value=e,d.value.value=e):void 0!==l&&(o.value=l,d.value.value=l)})),u((()=>{d.value.value=o.value})),{showClear:i,inputRef:d,handleClear:function(l){r(l,""),void 0!==e.modelValue?(o.value="",d.value.value="",n("update:modelValue","")):void 0===e.value&&(o.value="",d.value.value=""),n("change",l),n("input",l)},handleInput:function(l){const a=l.target.value;void 0!==e.modelValue?(o.value=a,n("update:modelValue",l.target.value)):void 0!==e.value?(d.value.value=o.value,r(l,a)):o.value=a,n("change",l),n("input",l)}}}}),f={class:"t-input-wrapper"},h=["disabled","placeholder"];var m=s(c,[["render",function(e,l,a,t,u,s){const c=n("t-icon");return d(),o("span",f,[i("input",{ref:"inputRef",disabled:e.disabled,placeholder:e.placeholder,onInput:l[0]||(l[0]=(...l)=>e.handleInput&&e.handleInput(...l)),class:r(["t-input",`t-input-size-${e.size}${!e.disabled&&e.allowClear?"-clear":""}`,e.disabled?"t-input-disabled":""])},null,42,h),e.showClear?(d(),v(c,{key:0,type:"clear",class:"t-input-right",onClick:e.handleClear},null,8,["onClick"])):p("v-if",!0)])}]]);m.install=function(e){e.component(m.name,m)};export{m as default};
